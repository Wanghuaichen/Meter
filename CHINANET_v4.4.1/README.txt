综合程序 
完整的代码实现

注意事项：
1，需连接电表与模组与云平台对测试；
2，测试时查看串口3输出日志；
3，串口3波特率9600.

主要测试目的：
1，验证软件流程；
2，验证平台指令获取。


说明：测试程序中通过日志输出捕获的平台指令，如需查看日志，需要在MDK中加入预编译命令“DEBUG”。

修正：
1，电表数量动态读取发送
2，终端3秒发送上线标记，带下云平台指令。执行meter_task任务时，关闭上线标记发送。
3，电表接收函数延时改为中断标记判断
4，串口2配置错误
5，电表添加函数中电表号的判断
6，修正指令接收中字符A与ascA的转换
7，添加测试代码，复位后电表数量清零，测试完成后去掉预编译命令“METER_CLEAR”
8，修正电表拉闸合闸函数
9，修正flash地址偏移
10，增加BC95复位信号
11，指令格式修正，多点表地址添加
12,修正flash读写错误

13，完整流程通过测试
14，修正电表数量数据类型转换问题
15，增加数据写入flash前打印输出
16，增加独立看门狗

17，程序结构调整
18, 加入网络连接检测，每100min检测网络是否连接，若断网系统复位
版本：v1.4.1
2017.06.30

www.terabits.cn